!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=e.handleCardClick,a=e.handleDeleteCard,u=e.data;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=u.name,this._link=u.link,this._cardSelector=n,this._handleCardClick=i,this._handleDeleteCard=a,this._userId=r,this._idCardCreator=u.owner._id,this._idCard=u._id,this._api=o,this._likes=u.likes}var n,r;return n=t,(r=[{key:"_getTemplateCard",value:function(){this._item=document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"generateCard",value:function(){return this._getTemplateCard(),this._setEventListeners(),this._cardImage=this._item.querySelector(".element__image"),this._item.querySelector(".element__title").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeBtn=this._item.querySelector(".element__like"),this._likeNumder=this._item.querySelector(".element__like-number"),this._item.querySelector(".element__like-number").textContent=this._likes.length,this._checkDeleteCard(),this._checkLikeCard(),this._item}},{key:"_checkDeleteCard",value:function(){this._userId!=this._idCardCreator&&(this._item.querySelector(".element__delete").style.display="none")}},{key:"_checkLikeCard",value:function(){var e=this;this._likes.some((function(t){return t._id===e._userId}))&&this._item.querySelector(".element__like").classList.add("element__like_active")}},{key:"_setEventListeners",value:function(){var e=this;this._item.querySelector(".element__like").addEventListener("click",(function(){e._handleLikeCard()})),this._item.querySelector(".element__image").addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._item.querySelector(".element__delete").addEventListener("click",(function(){e._handleDeleteCard()}))}},{key:"_handleLikeCard",value:function(){var e=this;this._likeBtn.classList.contains("element__like_active")?this._api.disLikeCard(this._idCard).then((function(t){e._likeBtn.classList.remove("element__like_active"),e._likeNumder.textContent=t.likes.length})).catch((function(e){return console.log(e)})):this._api.likeCard(this._idCard).then((function(t){e._likeBtn.classList.add("element__like_active"),e._likeNumder.textContent=t.likes.length})).catch((function(e){return console.log(e)}))}},{key:"handleRemoveCard",value:function(){this._item.closest(".element").remove(),this._item=null}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","disabled")):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this;this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"checkValidationOpenPopup",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._element.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._element.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._element.addEventListener("mousedown",(function(t){(t.target===e._element||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._callbackSabmitForm=t,n._formElement=n._element.querySelector(".popup__container"),n._inputList=n._formElement.querySelectorAll(".popup__input"),n._popupBtn=n._formElement.querySelector(".popup__submit"),n._popupBtnText=n._popupBtn.textContent,n}return t=a,(n=[{key:"close",value:function(){c(p(a.prototype),"close",this).call(this),this._formElement.reset()}},{key:"_getInputValues",value:function(){var e=this;return this._values={},this._inputList.forEach((function(t){e._values[t.name]=t.value})),this._values}},{key:"setEventListeners",value:function(){var e=this;c(p(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSabmitForm(e._getInputValues())}))}},{key:"renderRetention",value:function(e){this._popupBtn.textContent=e?"Сохранение...":this._popupBtnText}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._cardPopupImage=t._element.querySelector(".popup__image"),t._cardPopupImageTitle=t._element.querySelector(".popup__image-title"),t}return t=a,(n=[{key:"open",value:function(e,t){this._cardPopupImageTitle.textContent=e,this._cardPopupImage.src=t,this._cardPopupImage.alt=e,y(k(a.prototype),"open",this).call(this)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){var t=this;e.reverse().forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){var n=t.selectorProfilePopupName,r=t.selectorProfilePopupJob,o=t.selectorAvatarPopup;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profilePopupName=document.querySelector(n),this._profilePopupJob=document.querySelector(r),this._profilePopupAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._profilePopupName.textContent,job:this._profilePopupJob.textContent}}},{key:"setUserInfo",value:function(e,t){this._profilePopupName.textContent=e,this._profilePopupJob.textContent=t}},{key:"setUserAvatar",value:function(e){this._profilePopupAvatar.src=e}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=L(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function L(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function R(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupForm=t._element.querySelector(".popup__container"),t._handleCallbackSabmitForm=null,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;j(q(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleCallbackSabmitForm()}))}},{key:"setSubmitAction",value:function(e){this._handleCallbackSabmitForm=e}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"handleAvatar",value:function(e){return fetch(this._url+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch(this._url+"/users/me",{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"handleUserInfoApi",value:function(e){return fetch(this._url+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.userName,about:e.job})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch(this._url+"/cards",{method:"GET",headers:this._headers}).then(this._checkResponse)}},{key:"handleAddCard",value:function(e){return fetch(this._url+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"getInformation",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"deleteCard",value:function(e){return fetch(this._url+"/cards/".concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"likeCard",value:function(e){return fetch(this._url+"/cards/likes/".concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"disLikeCard",value:function(e){return fetch(this._url+"/cards/likes/".concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=document.querySelector("#avatar-edit-button"),D=document.querySelector("#popup_show"),N=document.querySelector("#popup_element_show"),U=document.querySelector(".popup__input_name"),V=document.querySelector(".popup__input_about-me");function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F,G=new B({url:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"240299ab-5d52-47c4-861f-e301564a80f2","Content-Type":"application/json"}});G.getInformation().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];M.setUserAvatar(o.avatar),M.setUserInfo(o.name,o.about),F=o._id,Y.rendererItems(i)})).catch((function(e){return console.log(e)})),x.addEventListener("click",(function(){H.open(),Z["popup__avatar-form"].checkValidationOpenPopup()}));var H=new h("#popup_avatar",(function(e){H.renderRetention(!0),G.handleAvatar(e).then((function(e){M.setUserAvatar(e.avatar),H.close()})).catch((function(e){return console.log(e)})).finally((function(){return H.renderRetention(!1)}))}));H.setEventListeners();var M=new S({selectorProfilePopupName:".profile__title",selectorProfilePopupJob:".profile__subtitle",selectorAvatarPopup:".profile__avatar"});M.getUserInfo(),D.addEventListener("click",(function(){var e=M.getUserInfo();U.value=e.userName,V.value=e.job,Z.popup__info.checkValidationOpenPopup(),z.open()}));var z=new h("#popup",(function(e){z.renderRetention(!0),G.handleUserInfoApi(e).then((function(e){M.setUserInfo(e.name,e.about),z.close()})).catch((function(e){return console.log(e)})).finally((function(){return z.renderRetention(!1)}))}));z.setEventListeners(),N.addEventListener("click",(function(){$.open(),Z["popup__element-form"].checkValidationOpenPopup()}));var $=new h("#popup_element",(function(e){$.renderRetention(!0),G.handleAddCard(e).then((function(e){Y.addItem(X(e)),$.close()})).catch((function(e){return console.log(e)})).finally((function(){return $.renderRetention(!1)}))}));$.setEventListeners();var K=new g("#popup__element-image");K.setEventListeners();var Q=new A("#popup_delete-card");Q.setEventListeners();var W,X=function(e){var n=new t({handleCardClick:function(){K.open(e.name,e.link)},handleDeleteCard:function(){Q.setSubmitAction((function(){G.deleteCard(e._id).then((function(){n.handleRemoveCard(),Q.close()})).catch((function(e){return console.log(e)}))})),Q.open()},data:e},"#element-template",F,G);return n.generateCard()},Y=new C({renderer:function(e){Y.addItem(X(e))}},".elements"),Z={};W={formSelector:".popup__container",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_inactive",inputErrorClass:"popup__input_error-active",errorClass:"popup__error"},Array.from(document.querySelectorAll(W.formSelector)).forEach((function(e){var t=new r(e,W),n=e.getAttribute("name");Z[n]=t,t.enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEI3SCxFQXhDcEJzSSxFQUFhLFNBQUM1TCxHQUNsQixJQUFNK0wsRUFBTyxJQUFJck0sRUFDZixDQUNFSSxnQkFBaUIsV0FDZitMLEVBQWVqQixLQUFLNUssRUFBS0csS0FBTUgsRUFBS0ssT0FFdENOLGlCQUFrQixXQUNoQitMLEVBQWdCRSxpQkFBZ0IsV0FDOUJuTSxFQUNHb00sV0FBV2pNLEVBQUtZLEtBQ2hCZ0MsTUFBSyxXQUNKbUosRUFBS0csbUJBQ0xKLEVBQWdCN0YsV0FFakJuRCxPQUFNLFNBQUNDLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsU0FFaEMrSSxFQUFnQmxCLFFBRWxCNUssS0FBTUEsR0FFUixvQkFDQUosRUFDQUMsR0FFRixPQUFPa00sRUFBS0ksZ0JBSVIxQixFQUFlLElBQUl4RCxFQUN2QixDQUNFRSxTQUFVLFNBQUNLLEdBQ1RpRCxFQUFha0IsUUFBUUMsRUFBV3BFLE1BR3BDLGFBSUlxRCxFQUFpQixHQUVHdkgsRUQ3SkEsQ0FDeEI4SSxhQUFjLG9CQUNkM0ksY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QkUsb0JBQXFCLHlCQUNyQkUsZ0JBQWlCLDRCQUNqQkUsV0FBWSxnQkN3SktFLE1BQU1DLEtBQ3JCbEQsU0FBU21ELGlCQUFpQmYsRUFBa0I4SSxlQUVyQzlHLFNBQVEsU0FBQ2pDLEdBQ2hCLElBQU1nSixFQUFZLElBQUlqSixFQUFjQyxFQUFhQyxHQUUzQ2dKLEVBQVdqSixFQUFZa0osYUFBYSxRQUUxQzFCLEVBQWV5QixHQUFZRCxFQUMzQkEsRUFBVUcsc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsZXRlQ2FyZCwgZGF0YSB9LFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgdXNlcklkLFxyXG4gICAgYXBpXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faWRDYXJkQ3JlYXRvciA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5faWRDYXJkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9hcGkgPSBhcGk7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgfVxyXG5cclxuICAvL9Cf0L7QuNGB0Log0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9nZXRUZW1wbGF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pdGVtID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvL9Ce0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQutC4XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZ2V0VGVtcGxhdGVDYXJkKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZUJ0biA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlXCIpO1xyXG4gICAgdGhpcy5fbGlrZU51bWRlciA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLW51bWJlclwiKTtcclxuICAgIHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLW51bWJlclwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICB0aGlzLl9jaGVja0RlbGV0ZUNhcmQoKTtcclxuICAgIHRoaXMuX2NoZWNrTGlrZUNhcmQoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LTQu9GPINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbiAgX2NoZWNrRGVsZXRlQ2FyZCgpIHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT0gdGhpcy5faWRDYXJkQ3JlYXRvcikge1xyXG4gICAgICB0aGlzLl9pdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fZGVsZXRlXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0J/RgNC+0LLQtdGA0LrQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LTQu9GPINC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9jaGVja0xpa2VDYXJkKCkge1xyXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKHJlcykgPT4gcmVzLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xyXG4gICAgICB0aGlzLl9pdGVtXHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9Ch0LvRg9GI0LDRgtC10LvQuFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8v0JvQsNC50Log0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCe0YLQutGA0YvRgtGMINGD0LLQtdC70LjRh9C10L3QuNC1INC60LDRgNGC0LjQvdC60LhcclxuICAgIHRoaXMuX2l0ZW1cclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvL9Cj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgdGhpcy5faXRlbVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGVcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0KTRg9C90LrRhtC40Y8g0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF9oYW5kbGVMaWtlQ2FyZCgpIHtcclxuICAgIGlmICghdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJlbGVtZW50X19saWtlX2FjdGl2ZVwiKSkge1xyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAubGlrZUNhcmQodGhpcy5faWRDYXJkKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgdGhpcy5fbGlrZU51bWRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAuZGlzTGlrZUNhcmQodGhpcy5faWRDYXJkKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2xpa2VCdG4uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgICAgdGhpcy5fbGlrZU51bWRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9GE0YPQvdC60YbQuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGhhbmRsZVJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9pdGVtLmNsb3Nlc3QoXCIuZWxlbWVudFwiKS5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2l0ZW0gPSBudWxsO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2V0dGluZ3NWYWxpZGF0b3IpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3NWYWxpZGF0b3IuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3NWYWxpZGF0b3Iuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3NWYWxpZGF0b3IuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzVmFsaWRhdG9yLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5nc1ZhbGlkYXRvci5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGVja1ZhbGlkYXRpb25PcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvL9Ck0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0LvRjtCx0L7QvtCz0L4g0L/QvtC/0LDQv1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL9Ck0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0LvRjtCx0L7QvtCz0L4g0L/QvtC/0LDQv1xyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy/QpNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC70Y7QsdC+0L7Qs9C+INC/0L7Qv9Cw0L8g0L3QsNC20LDQsiDQvdCwIEVzY2FwZVxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0KHQu9GD0YjQsNGC0LXQu9C4INC60LvQuNC60LAg0LfQsNC60YDRi9GC0YxcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIShcclxuICAgICAgICAgIGUudGFyZ2V0ID09PSB0aGlzLl9lbGVtZW50IHx8XHJcbiAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIilcclxuICAgICAgICApXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbGJhY2tTYWJtaXRGb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NhbGxiYWNrU2FibWl0Rm9ybSA9IGNhbGxiYWNrU2FibWl0Rm9ybTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcclxuICAgIHRoaXMuX3BvcHVwQnRuID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0XCIpO1xyXG4gICAgdGhpcy5fcG9wdXBCdG5UZXh0ID0gdGhpcy5fcG9wdXBCdG4udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fdmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX3ZhbHVlc1tpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdGhpcy5fY2FsbGJhY2tTYWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJSZXRlbnRpb24oaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwQnRuLnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcG9wdXBCdG4udGV4dENvbnRlbnQgPSB0aGlzLl9wb3B1cEJ0blRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NhcmRQb3B1cEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRQb3B1cEltYWdlVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLnBvcHVwX19pbWFnZS10aXRsZVwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9jYXJkUG9wdXBJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcmRQb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9jYXJkUG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVySXRlbXMoZWxlbWVudHMpIHtcclxuICAgIGVsZW1lbnRzLnJldmVyc2UoKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBzZWxlY3RvclByb2ZpbGVQb3B1cE5hbWUsXHJcbiAgICBzZWxlY3RvclByb2ZpbGVQb3B1cEpvYixcclxuICAgIHNlbGVjdG9yQXZhdGFyUG9wdXAsXHJcbiAgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZVBvcHVwTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JQcm9maWxlUG9wdXBOYW1lKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVQb3B1cEpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JQcm9maWxlUG9wdXBKb2IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZVBvcHVwQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvckF2YXRhclBvcHVwKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX3Byb2ZpbGVQb3B1cE5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZVBvcHVwSm9iLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCBqb2IpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVQb3B1cE5hbWUudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVQb3B1cEpvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9wcm9maWxlUG9wdXBBdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXJcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVDYWxsYmFja1NhYm1pdEZvcm0gPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYWxsYmFja1NhYm1pdEZvcm0oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlQ2FsbGJhY2tTYWJtaXRGb3JtID0gYWN0aW9uO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUF2YXRhcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgYC91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlVXNlckluZm9BcGkoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLnVzZXJOYW1lLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmpvYixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUFkZENhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluZm9ybWF0aW9uKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyBgL2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyBgL2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGlzTGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwgKyBgL2NhcmRzL2xpa2VzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufSIsImNvbnN0IGF2YXRhclBvcHVwT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWVkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlUG9wdXBPcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9zaG93XCIpO1xyXG5jb25zdCBjYXJkUG9wdXBPcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9lbGVtZW50X3Nob3dcIik7XHJcbmNvbnN0IHByb2ZpbGVQb3B1cE5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVQb3B1cEpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfYWJvdXQtbWVcIik7XHJcbmNvbnN0IHNldHRpbmdzVmFsaWRhdG9yID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2NvbnRhaW5lclwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0X2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF9lcnJvci1hY3RpdmVcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvclwiLFxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBhdmF0YXJQb3B1cE9wZW5CdG4sXHJcbiAgcHJvZmlsZVBvcHVwT3BlbkJ0bixcclxuICBjYXJkUG9wdXBPcGVuQnRuLFxyXG4gIHByb2ZpbGVQb3B1cE5hbWVJbnB1dCxcclxuICBwcm9maWxlUG9wdXBKb2JJbnB1dCxcclxuICBzZXR0aW5nc1ZhbGlkYXRvcixcclxufTsiLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYXZhdGFyUG9wdXBPcGVuQnRuLFxyXG4gIHByb2ZpbGVQb3B1cE9wZW5CdG4sXHJcbiAgY2FyZFBvcHVwT3BlbkJ0bixcclxuICBwcm9maWxlUG9wdXBOYW1lSW5wdXQsXHJcbiAgcHJvZmlsZVBvcHVwSm9iSW5wdXQsXHJcbiAgc2V0dGluZ3NWYWxpZGF0b3IsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW5zLmpzXCI7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICB1cmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiMjQwMjk5YWItNWQ1Mi00N2M0LTg2MWYtZTMwMTU2NGE4MGYyXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5hcGlcclxuICAuZ2V0SW5mb3JtYXRpb24oKVxyXG4gIC50aGVuKChbcmVzLCBjYXJkc10pID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuICAgIHVzZXJJZCA9IHJlcy5faWQ7XHJcbiAgICBjYXJkUmVuZGVyZXIucmVuZGVyZXJJdGVtcyhjYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcblxyXG4vL9Cf0L7Qv9Cw0L8g0JDQktCQ0KLQkNCgLdC/0YDQvtGE0LjQu9GPXHJcbmF2YXRhclBvcHVwT3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wicG9wdXBfX2F2YXRhci1mb3JtXCJdLmNoZWNrVmFsaWRhdGlvbk9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmNvbnN0IGhhbmRsZUF2YXRhckZvcm1TdWJtaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNwb3B1cF9hdmF0YXJcIixcclxuICAobmV3QXZhdGFyKSA9PiB7XHJcbiAgICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0LnJlbmRlclJldGVudGlvbih0cnVlKTtcclxuICAgIGFwaVxyXG4gICAgICAuaGFuZGxlQXZhdGFyKG5ld0F2YXRhcilcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICAgICAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdC5yZW5kZXJSZXRlbnRpb24oZmFsc2UpKTtcclxuICB9XHJcbik7XHJcblxyXG5oYW5kbGVBdmF0YXJGb3JtU3VibWl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9Cf0L7Qv9Cw0L8g0J/QoNCe0KTQmNCb0K9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHNlbGVjdG9yUHJvZmlsZVBvcHVwTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBzZWxlY3RvclByb2ZpbGVQb3B1cEpvYjogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxuICBzZWxlY3RvckF2YXRhclBvcHVwOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcbnVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcblxyXG5wcm9maWxlUG9wdXBPcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVQb3B1cE5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVJbmZvLnVzZXJOYW1lO1xyXG4gIHByb2ZpbGVQb3B1cEpvYklucHV0LnZhbHVlID0gcHJvZmlsZUluZm8uam9iO1xyXG5cclxuICBmb3JtVmFsaWRhdG9yc1tcInBvcHVwX19pbmZvXCJdLmNoZWNrVmFsaWRhdGlvbk9wZW5Qb3B1cCgpO1xyXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwXCIsIChuZXdQcm9maWxlKSA9PiB7XHJcbiAgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQucmVuZGVyUmV0ZW50aW9uKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmhhbmRsZVVzZXJJbmZvQXBpKG5ld1Byb2ZpbGUpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQucmVuZGVyUmV0ZW50aW9uKGZhbHNlKSk7XHJcbn0pO1xyXG5cclxuaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0J/QvtC/0LDQvyDQmtCQ0KDQotCe0KfQldCaXHJcbmNhcmRQb3B1cE9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBoYW5kbGVDYXJkRm9ybVN1Ym1pdC5vcGVuKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJwb3B1cF9fZWxlbWVudC1mb3JtXCJdLmNoZWNrVmFsaWRhdGlvbk9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbi8v0JTQvtCx0LDQstC70LXQvdC40LUg0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGhhbmRsZUNhcmRGb3JtU3VibWl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXBfZWxlbWVudFwiLCAobmV3Q2FyZCkgPT4ge1xyXG4gIGhhbmRsZUNhcmRGb3JtU3VibWl0LnJlbmRlclJldGVudGlvbih0cnVlKTtcclxuICBhcGlcclxuICAgIC5oYW5kbGVBZGRDYXJkKG5ld0NhcmQpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNhcmRSZW5kZXJlci5hZGRJdGVtKGNyZWF0ZUNhcmQocmVzKSk7XHJcbiAgICAgIGhhbmRsZUNhcmRGb3JtU3VibWl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiBoYW5kbGVDYXJkRm9ybVN1Ym1pdC5yZW5kZXJSZXRlbnRpb24oZmFsc2UpKTtcclxufSk7XHJcblxyXG5oYW5kbGVDYXJkRm9ybVN1Ym1pdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/Qo9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwQ2FyZENsaWNrID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwX19lbGVtZW50LWltYWdlXCIpO1xyXG5wb3B1cENhcmRDbGljay5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/Qn9C+0L/QsNC/INGD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiI3BvcHVwX2RlbGV0ZS1jYXJkXCIpO1xyXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0KHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIHtcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBDYXJkQ2xpY2sub3BlbihkYXRhLm5hbWUsIGRhdGEubGluayk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNhcmQ6ICgpID0+IHtcclxuICAgICAgICBwb3B1cERlbGV0ZUNhcmQuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChkYXRhLl9pZClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQuaGFuZGxlUmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcclxuICAgICAgfSxcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgIH0sXHJcbiAgICBcIiNlbGVtZW50LXRlbXBsYXRlXCIsXHJcbiAgICB1c2VySWQsXHJcbiAgICBhcGlcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuLy8g0J7RgtC+0LHRgNCw0LbQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6XHJcbmNvbnN0IGNhcmRSZW5kZXJlciA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjYXJkUmVuZGVyZXIuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5lbGVtZW50c1wiXHJcbik7XHJcblxyXG4vL9CS0LDQu9C40LTQsNGG0LjRj1xyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChzZXR0aW5nc1ZhbGlkYXRvcikgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3NWYWxpZGF0b3IuZm9ybVNlbGVjdG9yKVxyXG4gICk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBzZXR0aW5nc1ZhbGlkYXRvcik7XHJcbiAgICAvLyDQv9C+0LvRg9GH0LDQtdC8INC00LDQvdC90YvQtSDQuNC3INCw0YLRgNC40LHRg9GC0LAgYG5hbWVgINGDINGE0L7RgNC80YtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuXHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5nc1ZhbGlkYXRvcik7Il0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJhcGkiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiZGF0YSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX3VzZXJJZCIsIl9pZENhcmRDcmVhdG9yIiwib3duZXIiLCJfaWQiLCJfaWRDYXJkIiwiX2FwaSIsIl9saWtlcyIsImxpa2VzIiwiX2l0ZW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGVDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRJbWFnZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiX2xpa2VCdG4iLCJfbGlrZU51bWRlciIsImxlbmd0aCIsIl9jaGVja0RlbGV0ZUNhcmQiLCJfY2hlY2tMaWtlQ2FyZCIsInN0eWxlIiwiZGlzcGxheSIsInNvbWUiLCJyZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VDYXJkIiwiY29udGFpbnMiLCJkaXNMaWtlQ2FyZCIsInRoZW4iLCJyZW1vdmUiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJsaWtlQ2FyZCIsImNsb3Nlc3QiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJzZXR0aW5nc1ZhbGlkYXRvciIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfZWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJlIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU2FibWl0Rm9ybSIsIl9jYWxsYmFja1NhYm1pdEZvcm0iLCJfcG9wdXBCdG4iLCJfcG9wdXBCdG5UZXh0IiwicmVzZXQiLCJfdmFsdWVzIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpc0xvYWRpbmciLCJQb3B1cFdpdGhJbWFnZSIsIl9jYXJkUG9wdXBJbWFnZSIsIl9jYXJkUG9wdXBJbWFnZVRpdGxlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudHMiLCJyZXZlcnNlIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiVXNlckluZm8iLCJzZWxlY3RvclByb2ZpbGVQb3B1cE5hbWUiLCJzZWxlY3RvclByb2ZpbGVQb3B1cEpvYiIsInNlbGVjdG9yQXZhdGFyUG9wdXAiLCJfcHJvZmlsZVBvcHVwTmFtZSIsIl9wcm9maWxlUG9wdXBKb2IiLCJfcHJvZmlsZVBvcHVwQXZhdGFyIiwidXNlck5hbWUiLCJqb2IiLCJhdmF0YXIiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUNhbGxiYWNrU2FibWl0Rm9ybSIsImFjdGlvbiIsIkFwaSIsImNvbmZpZyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIl9jaGVja1Jlc3BvbnNlIiwiYWJvdXQiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImF2YXRhclBvcHVwT3BlbkJ0biIsInByb2ZpbGVQb3B1cE9wZW5CdG4iLCJjYXJkUG9wdXBPcGVuQnRuIiwicHJvZmlsZVBvcHVwTmFtZUlucHV0IiwicHJvZmlsZVBvcHVwSm9iSW5wdXQiLCJhdXRob3JpemF0aW9uIiwiZ2V0SW5mb3JtYXRpb24iLCJjYXJkcyIsInVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsInNldFVzZXJJbmZvIiwiY2FyZFJlbmRlcmVyIiwicmVuZGVyZXJJdGVtcyIsImhhbmRsZUF2YXRhckZvcm1TdWJtaXQiLCJvcGVuIiwiZm9ybVZhbGlkYXRvcnMiLCJjaGVja1ZhbGlkYXRpb25PcGVuUG9wdXAiLCJuZXdBdmF0YXIiLCJyZW5kZXJSZXRlbnRpb24iLCJoYW5kbGVBdmF0YXIiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwcm9maWxlSW5mbyIsImhhbmRsZVByb2ZpbGVGb3JtU3VibWl0IiwibmV3UHJvZmlsZSIsImhhbmRsZVVzZXJJbmZvQXBpIiwiaGFuZGxlQ2FyZEZvcm1TdWJtaXQiLCJuZXdDYXJkIiwiaGFuZGxlQWRkQ2FyZCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwicG9wdXBDYXJkQ2xpY2siLCJwb3B1cERlbGV0ZUNhcmQiLCJjYXJkIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZVJlbW92ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9